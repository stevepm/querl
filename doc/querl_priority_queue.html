<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module querl_priority_queue</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module querl_priority_queue</h1>
<ul class="index"><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>


<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-priority">priority()</a></h3>
<p><tt>priority() = non_neg_integer()</tt></p>


<h3 class="typedecl"><a name="type-queue">queue()</a></h3>
<p><tt>queue() = <a href="#type-queue">queue</a>(any(), any())</tt></p>


<h3 class="typedecl"><a name="type-queue">queue()</a></h3>
<p><tt>queue(Key, Payload) = #'?MODULE'{queues = #{<a href="#type-priority">priority()</a> =&gt; <a href="querl_queue.html#type-queue">querl_queue:queue</a>(Key, Payload)}, priorities = #{Key =&gt; <a href="#type-priority">priority()</a>}, size = non_neg_integer()}</tt></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#clone-1">clone/1</a></td><td>Same idea as for <code>querl_queue:clone/1</code>; shouldn't be used in production
  code!</td></tr>
<tr><td valign="top"><a href="#empty-1">empty/1</a></td><td>Empties the queue of all its current items, and returns an empty queue
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#empty-3">empty/3</a></td><td>Same as <code>empty/1</code>, except only empties priorities gte <code>FromPriority</code> and
  lt <code>ToPriority</code>
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#in-4">in/4</a></td><td>Adds a new item in the queue
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#lowest_priority-1">lowest_priority/1</a></td><td>Returns the queue's lowest priority (that was passed at initialization
  time)
  This is not a destructive operation.</td></tr>
<tr><td valign="top"><a href="#new-1">new/1</a></td><td>Creates a new queue with lowest priority <code>LowestPriority</code></td></tr>
<tr><td valign="top"><a href="#out-2">out/2</a></td><td>Pops up to <code>Size</code> items out of the queue (not an error to request more
  than the actual size of the queue)
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#out-4">out/4</a></td><td>Same as <code>out/2</code>, except will only pop items with priorities gte
  <code>FromPriority</code> and lt <code>ToPriority</code>
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#remove-2">remove/2</a></td><td>Removes an item from the queue, and returns its previous priority and
  payload
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#remove-3">remove/3</a></td><td>Same as <code>remove/2</code>, providing the <code>Priority</code> too (the item won't
  be found if it's present in the queue with a different priority)
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#size-1">size/1</a></td><td>This is not a destructive operation.</td></tr>
<tr><td valign="top"><a href="#size-2">size/2</a></td><td>The size for a given priority; this is not a destructive operation.</td></tr>
<tr><td valign="top"><a href="#update_priority-3">update_priority/3</a></td><td>Changes the priority of an item already present in the queue (doesn't
  touch the payload, nor does it change the affect the item's position in the
  list if it already has the same priority - if the priority is changed, the
  item is moved at the end of its new priority)
  WARNING: this is a destructive operation!</td></tr>
<tr><td valign="top"><a href="#update_priority-4">update_priority/4</a></td><td>Same as <code>update_priority/3</code>, providing the <code>CurrentPriority</code> too (the
  item won't be found if it's present in the queue with a different priority)
  The behaviour is the same
  WARNING: this is a destructive operation!</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="clone-1">clone/1</a></h3>
<div class="spec">
<p><tt>clone(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}) -&gt; #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}</tt><br></p>
</div><p>Same idea as for <code>querl_queue:clone/1</code>; shouldn't be used in production
  code!</p>

<h3 class="function"><a name="empty-1">empty/1</a></h3>
<div class="spec">
<p><tt>empty(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}) -&gt; {#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, ActualSize::non_neg_integer(), [{Key::any(), Priority::<a href="#type-priority">priority()</a>, Payload::any()}]}</tt><br></p>
</div><p>Empties the queue of all its current items, and returns an empty queue
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="empty-3">empty/3</a></h3>
<div class="spec">
<p><tt>empty(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, FromPriority::<a href="#type-priority">priority()</a>, ToPriority::<a href="#type-priority">priority()</a>) -&gt; {#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, ActualSize::non_neg_integer(), [{Key::any(), Priority::<a href="#type-priority">priority()</a>, Payload::any()}]}</tt><br></p>
</div><p>Same as <code>empty/1</code>, except only empties priorities gte <code>FromPriority</code> and
  lt <code>ToPriority</code>
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="in-4">in/4</a></h3>
<div class="spec">
<p><tt>in(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Key::any(), Priority::<a href="#type-priority">priority()</a>, Payload::any()) -&gt; {ok, #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}} | {error, already_present}</tt><br></p>
</div><p>Adds a new item in the queue
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="lowest_priority-1">lowest_priority/1</a></h3>
<div class="spec">
<p><tt>lowest_priority(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}) -&gt; <a href="#type-priority">priority()</a></tt><br></p>
</div><p>Returns the queue's lowest priority (that was passed at initialization
  time)
  This is not a destructive operation</p>

<h3 class="function"><a name="new-1">new/1</a></h3>
<div class="spec">
<p><tt>new(LowestPriority::<a href="#type-priority">priority()</a>) -&gt; #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}</tt><br></p>
</div><p>Creates a new queue with lowest priority <code>LowestPriority</code></p>

<h3 class="function"><a name="out-2">out/2</a></h3>
<div class="spec">
<p><tt>out(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, RequestedSize::non_neg_integer()) -&gt; {#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, ActualSize::non_neg_integer(), [{Key::any(), Priority::<a href="#type-priority">priority()</a>, Payload::any()}]}</tt><br></p>
</div><p>Pops up to <code>Size</code> items out of the queue (not an error to request more
  than the actual size of the queue)
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="out-4">out/4</a></h3>
<div class="spec">
<p><tt>out(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, RequestedSize::non_neg_integer(), FromPriority::<a href="#type-priority">priority()</a>, ToPriority::<a href="#type-priority">priority()</a>) -&gt; {#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, ActualSize::non_neg_integer(), [{Key::any(), Priority::<a href="#type-priority">priority()</a>, Payload::any()}]}</tt><br></p>
</div><p>Same as <code>out/2</code>, except will only pop items with priorities gte
  <code>FromPriority</code> and lt <code>ToPriority</code>
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="remove-2">remove/2</a></h3>
<div class="spec">
<p><tt>remove(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Key::any()) -&gt; {ok, #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Priority::<a href="#type-priority">priority()</a>, Payload::any()} | {error, not_found}</tt><br></p>
</div><p>Removes an item from the queue, and returns its previous priority and
  payload
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="remove-3">remove/3</a></h3>
<div class="spec">
<p><tt>remove(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Key::any(), Priority::<a href="#type-priority">priority()</a>) -&gt; {ok, #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Payload::any()} | {error, not_found}</tt><br></p>
</div><p>Same as <code>remove/2</code>, providing the <code>Priority</code> too (the item won't
  be found if it's present in the queue with a different priority)
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="size-1">size/1</a></h3>
<div class="spec">
<p><tt>size(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}) -&gt; non_neg_integer()</tt><br></p>
</div><p>This is not a destructive operation</p>

<h3 class="function"><a name="size-2">size/2</a></h3>
<div class="spec">
<p><tt>size(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Priority::<a href="#type-priority">priority()</a>) -&gt; non_neg_integer()</tt><br></p>
</div><p>The size for a given priority; this is not a destructive operation</p>

<h3 class="function"><a name="update_priority-3">update_priority/3</a></h3>
<div class="spec">
<p><tt>update_priority(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Key::any(), NewPriority::<a href="#type-priority">priority()</a>) -&gt; {ok, #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, OldPriority::<a href="#type-priority">priority()</a>} | {error, not_found}</tt><br></p>
</div><p>Changes the priority of an item already present in the queue (doesn't
  touch the payload, nor does it change the affect the item's position in the
  list if it already has the same priority - if the priority is changed, the
  item is moved at the end of its new priority)
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>

<h3 class="function"><a name="update_priority-4">update_priority/4</a></h3>
<div class="spec">
<p><tt>update_priority(?MODULE::#'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}, Key::any(), CurrentPriority::<a href="#type-priority">priority()</a>, NewPriority::<a href="#type-priority">priority()</a>) -&gt; {ok, #'?MODULE'{queues = #{}, priorities = #{}, size = non_neg_integer()}} | {error, not_found}</tt><br></p>
</div><p>Same as <code>update_priority/3</code>, providing the <code>CurrentPriority</code> too (the
  item won't be found if it's present in the queue with a different priority)
  The behaviour is the same
  WARNING: this is a destructive operation! see <code>clone/1</code> below for more
  details</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Jan 23 2017, 16:45:36.</i></p>
</body>
</html>
